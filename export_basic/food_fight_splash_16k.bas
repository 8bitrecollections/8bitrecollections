#############################################
# Language : BASIC
# Platform : COMMODORE VIC 20
#############################################
poke44,30 : poke30*256,0 : new : clr
----program below-----------
100gosub104:gosub107:gosub112:gosub116:gosub119:gosub126
101gosub141
102goto101
103rem.initvars
104ms=4096:mo=33792
105return
106rem.init.scr
107printchr$(147)
108poke36879,14
109poke36878,151
110return
111rem.init.char
112poke36869,206
113fori=6152to6591:reada:pokei,a:next
114return
115rem.init.pos
116forx=828to923:reada:pokex,a:next
117return
118rem.init.sprite.pos
119forx=4608to4745:reada:pokex,a:next
120rem.init.sprite.ui
121forx=4750to5197:reada:pokex,a:next
122return
123rem.check.input
124rem.check.joystick1
125rem.render.screen
126forx=828to923:a=peek(x)
127ifa=255thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=0
128ifa=254thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=1
129ifla=1thench=a
130ifla=2thencc=a
131ifla=3thenx1=a
132ifla=4theny1=a
133ifla=4andtp=0andx1<128thengosub160:la=2
134ifla=5thenx2=a
135ifla=6theny2=a
136ifla=6thengosub160:la=2
137la=la+1
138next
139return
140rem.render.sprites
141tp=1
142forof=0to115step23
143ch=peek(4608+of)
144ifch=0thenreturn
145cc=peek(4608+of+1)+8
146x1=peek(4608+of+6)-1+128
147y1=peek(4608+of+7)-1+128
148an=peek(4608+of+10)
149x2=(peek(4608+of+6)-1)+(peek(4608+of+4)-1)+128
150y2=(peek(4608+of+7)-1)+(peek(4608+of+5)-1)+128
151rc=peek(4608+of+22)
152ifrc=0thengosub160:poke(4608+22),1
153ca=peek(4608+of+13)
154ifan=0theno1=(ca-1)*8:o2=(ch-1)*8:poke4608+of+10,1:goto156
155o1=(ca-1+4)*8:o2=(ch-1)*8:poke4608+of+10,0
156forx=0to31:a=peek(4750+x+o1):poke6152+x+o2,a:nextx
157nextof
158return
159rem.render.chars
160ifx2=0thenx2=x1:y2=y
161ifx1>127thenx1=x1-128:y1=y1-128:x2=x2-128:y2=y2-128
162l1=y1*22+x1
163xo=x2-x1:yo=y2-y1:dy=0:cy=0:cd=ch
164forb=0toxo
165poke4096+l1+b+dy+mo,cc:poke4096+l1+b+dy,cd
166iftp=1thencd=cd+1
167ifcd=32thencd=33
168nextb
169cy=cy+1
170ifcy>yothenreturn
171dy=dy+22
172goto164
173rem.char.data
174data85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,66,66,66,66,74,64,85,129
175data129,129,129,129,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74
176data64,74,74,74,74,64,85,161,161,129,1,1,161,1,85,85,64,67,76,79,64,79,64,85,1
177data241,1,241,49,193,1,74,64,66,64,64,74,64,85,161,161,161,161,161,161,1,85,85
178data64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,72,72,72,74,64,64,64,85,161,161
179data161,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,74
180data74,74,64,74,64,85,161,1,1,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241
181data1,241,49,193,1,74,74,74,74,74,74,64,85,1,1,161,33,33,161,1,85,0,0,0,85,85,0
182data0,0,16,16,16,16,16,16,16,16,16,16,16,21,5,0,0,0,0,0,0,5,21,16,16,16,0,0,0,80
183data84,4,4,4,4,4,4,84,80,0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,128,128,128,128
184data168,40,0,0,40,128,160,176,128,40,0,0,136,136,136,136,136,44,0,0,40,128,160
185data176,128,40,0,0,128,128,128,128,168,40,0,0,0,0,0,0,191,188,191,0,0,0,0,0,254
186data206,254,47,47,11,2,0,0,0,0,56,248,224,128,0,0,0,0,0,0,0,0,0,12,8,40,0,0,0,0
187data0,0,0,195,160,130,10,8,0,0,0,0,130,130,10,40,32,0,0,0,0,0,0,0,32,168,252,236
188data0,0,0,0,32,168,252,236,168,252,252,48,0,0,0,0,168,252,252,48,0,0,0,0,0,0,0
189data0,0,0,0,2,0,0,0,0,0,0,0,0,8,2,8,34,8,0,0,0,128,32,128,32,136,0,0,0,0,10,14
190data63,29,29,63,61,0,128,160,224,224,224,224,224
191rem.pos.data
192data255,25,13,129,129,148,129,129,149,148,149,255,26,13,128,130,128,148,255,27
193data13,0,21,255,28,13,0,1,255,29,13,21,1,255,30,13,21,21,255,31,13,149,130,149
194data148,254,33,15,129,150,133,150,254,38,13,144,144,145,145,254,42,15,144,138,145
195data139,254,46,9,132,144,133,145,254,50,13,132,138,133,139,254,54,15,143,150,144
196data150,145,150,146,150,147,150,148,150,253
197rem.sprite.data.pos
198data1,7,20,14,2,2,20,14,0,0,0,11,2,1,14,15,16,17,18,19,20,21,0,5,1,7,3,2,2,7,3
199data0,0,0,11,2,9,14,15,16,17,18,19,20,21,0,9,1,2,3,2,2,2,3,0,0,0,11,2,17,14,15
200data16,17,18,19,20,21,0,13,1,12,3,2,2,12,3,0,0,0,11,2,25,14,15,16,17,18,19,20,21
201data0,17,1,17,3,2,2,17,3,0,0,0,11,2,33,14,15,16,17,18,19,20,21,0,21,5,2,11,2,2
202data2,11,0,0,0,11,4,41,14,15,16,17,18,19,20,21,0
203rem.sprite.data.ui
204data10,15,63,29,63,61,15,213,128,160,224,224,224,225,197,84,53,1,2,14,10,2,0,3
205data80,64,128,0,0,0,128,192,10,15,63,29,63,61,15,213,128,160,224,224,224,225,197
206data84,53,1,2,2,2,15,0,3,80,64,128,128,128,128,128,192,8,10,9,10,205,207,133,134
207data32,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0
208data8,10,9,10,13,15,197,134,32,160,160,160,208,240,83,146,175,42,10,5,8,15,0,0
209data250,168,160,80,32,32,60,0,2,10,10,2,205,207,133,134,128,160,160,128,211,243
210data82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0,2,10,10,2,13,15,197,134
211data128,160,160,128,208,240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60
212data0,10,10,10,10,205,207,133,134,160,160,160,160,211,243,82,146,175,42,10,5,8
213data8,15,0,250,168,160,80,32,60,0,0,10,10,10,10,13,15,197,134,160,160,160,160,208
214data240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60,0,0,2,42,10,205,207
215data133,134,168,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80
216data32,60,0,0,0,2,42,10,13,15,197,134,168,160,160,160,208,240,83,146,175,42,10
217data5,8,15,0,0,250,168,160,80,32,32,60,0,2,10,10,10,42,42,42,42,0,128,128,128,160
218data160,160,160,63,12,15,44,15,3,3,0,240,192,192,192,192,0,0,0,0,0,10,10,42,42
219data42,42,0,0,128,128,160,160,160,160,63,12,15,44,15,3,35,0,240,192,192,192,192
220data0,0,0,0,0,0,0,0,42,42,42,0,0,0,0,0,160,160,160,63,12,15,44,15,3,35,0,240,192
221data192,192,192,0,0,0,0,0,0,0,0,0,0,42,0,0,0,0,0,0,0,160,63,12,15,12,15,3,35,0
222data240,192,192,192,192,0,0,0
223gosub227:gosub230:gosub235:gosub239:gosub242:gosub249
224gosub264
225goto224
226rem.initvars
227ms=4096:mo=33792
228return
229rem.init.scr
230printchr$(147)
231poke36879,14
232poke36878,151
233return
234rem.init.char
235poke36869,206
236fori=6152to8063:reada:pokei,a:next
237return
238rem.init.pos
239forx=828to965:reada:pokex,a:next
240return
241rem.init.sprite.pos
242forx=4608to4745:reada:pokex,a:next
243rem.init.sprite.ui
244forx=4750to5197:reada:pokex,a:next
245return
246rem.check.input
247rem.check.joystick1
248rem.render.screen
249forx=828to965:a=peek(x)
250ifa=255thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=0
251ifa=254thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=1
252ifla=1thench=a
253ifla=2thencc=a
254ifla=3thenx1=a
255ifla=4theny1=a
256ifla=4andtp=0andx1<128thengosub283:la=2
257ifla=5thenx2=a
258ifla=6theny2=a
259ifla=6thengosub283:la=2
260la=la+1
261next
262return
263rem.render.sprites
264tp=1
265forof=0to115step23
266ch=peek(4608+of)
267ifch=0thenreturn
268cc=peek(4608+of+1)+8
269x1=peek(4608+of+6)-1+128
270y1=peek(4608+of+7)-1+128
271an=peek(4608+of+10)
272x2=(peek(4608+of+6)-1)+(peek(4608+of+4)-1)+128
273y2=(peek(4608+of+7)-1)+(peek(4608+of+5)-1)+128
274rc=peek(4608+of+22)
275ifrc=0thengosub283:poke(4608+22),1
276ca=peek(4608+of+13)
277ifan=0theno1=(ca-1)*8:o2=(ch-1)*8:poke4608+of+10,1:goto279
278o1=(ca-1+4)*8:o2=(ch-1)*8:poke4608+of+10,0
279forx=0to31:a=peek(4750+x+o1):poke6152+x+o2,a:nextx
280nextof
281return
282rem.render.chars
283ifx2=0thenx2=x1:y2=y
284ifx1>127thenx1=x1-128:y1=y1-128:x2=x2-128:y2=y2-128
285l1=y1*22+x1
286xo=x2-x1:yo=y2-y1:dy=0:cy=0:cd=ch
287forb=0toxo
288poke4096+l1+b+dy+mo,cc:poke4096+l1+b+dy,cd
289iftp=1thencd=cd+1
290ifcd=32thencd=33
291nextb
292cy=cy+1
293ifcy>yothenreturn
294dy=dy+22
295goto287
296rem.char.data
297data85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,66,66,66,66,74,64,85,129
298data129,129,129,129,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74
299data64,74,74,74,74,64,85,161,161,129,1,1,161,1,85,85,64,67,76,79,64,79,64,85,1
300data241,1,241,49,193,1,74,64,66,64,64,74,64,85,161,161,161,161,161,161,1,85,85
301data64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,72,72,72,74,64,64,64,85,161,161
302data161,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,74
303data74,74,64,74,64,85,161,1,1,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241
304data1,241,49,193,1,74,74,74,74,74,74,64,85,1,1,161,33,33,161,1,85,0,0,0,85,85,0
305data0,0,16,16,16,16,16,16,16,16,16,16,16,21,5,0,0,0,0,0,0,5,21,16,16,16,0,0,0,80
306data84,4,4,4,4,4,4,84,80,0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,128,128,128,128
307data168,40,0,0,40,128,160,176,128,40,0,0,136,136,136,136,136,44,0,0,40,128,160
308data176,128,40,0,0,128,128,128,128,168,40,0,0,0,0,0,0,191,188,191,0,0,0,0,0,254
309data206,254,47,47,11,2,0,0,0,0,56,248,224,128,0,0,0,0,0,0,0,0,0,12,8,40,0,0,0,0
310data0,0,0,195,160,130,10,8,0,0,0,0,130,130,10,40,32,0,0,0,0,0,0,0,32,168,252,236
311data0,0,0,0,32,168,252,236,168,252,252,48,0,0,0,0,168,252,252,48,0,0,0,0,0,0,0
312data0,0,0,0,2,0,0,0,0,0,0,0,0,8,2,8,34,8,0,0,0,128,32,128,32,136,0,0,0,0,10,14
313data63,29,29,63,61,0,128,160,224,224,224,224,224,85,64,67,76,79,64,79,64,85,1,241
314data1,241,49,193,1,74,66,66,66,66,74,64,85,129,129,129,129,129,161,1,85,85,64,67
315data76,79,64,79,64,85,1,241,1,241,49,193,1,74,64,74,74,74,74,64,85,161,161,129
316data1,1,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,64,66,64,64
317data74,64,85,161,161,161,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241
318data49,193,1,72,72,72,74,64,64,64,85,161,161,161,161,161,161,1,85,85,64,67,76,79
319data64,79,64,85,1,241,1,241,49,193,1,74,74,74,74,64,74,64,85,161,1,1,161,161,161
320data1,85,0,0,0,0,32,168,184,136,0,0,0,0,32,184,128,40,0,0,0,0,32,168,184,128,0
321data0,0,0,32,168,184,136,0,0,0,0,32,168,136,168,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
322data136,168,44,0,0,0,0,0,56,136,44,0,0,0,0,0,136,168,44,0,0,0,0,0,168,184,136,0
323data0,0,0,0,160,184,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,168
324data184,136,0,0,0,0,128,136,168,184,0,0,0,0,32,168,176,136,0,0,0,0,40,168,176,160
325data0,0,0,0,128,128,128,128,0,0,0,0,32,184,136,136,0,0,0,0,0,0,0,0,168,184,136
326data0,0,0,0,0,136,136,136,0,0,0,0,0,136,168,44,0,0,0,0,0,176,168,40,0,0,0,0,0,128
327data168,40,0,0,0,0,0,136,136,44,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8,8,8,8,0,0,0
328data0,32,168,184,136,0,0,0,0,32,168,184,128,0,0,0,0,32,168,184,136,0,0,0,0,136
329data136,136,136,0,0,0,0,40,168,176,160,0,0,0,0,32,168,176,40,136,136,44,0,0,0,0
330data0,168,136,136,0,0,0,0,0,136,168,44,0,0,0,0,0,136,168,40,0,0,0,0,0,136,168,44
331data0,0,0,0,0,176,168,40,0,0,0,0,0,8,168,44,0,0,0,0,0,0,0,0,0,168,168,8,40,0,0
332data0,0,32,168,184,136,0,0,0,0,32,168,168,136,0,0,0,0,160,168,136,160,0,0,0,0,32
333data168,184,136,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,176,168,40,0,0,0,0,0,136,168,32
334data0,0,0,0,0,160,136,136,0,0,0,0,0,136,168,172,0,0,0,0,0,136,168,136,0,0,0,0,0
335data0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,168,184,128,0,0,0,0,136,136,136
336data168,0,0,0,0,32,168,184,136,0,0,0,0,32,168,184,136,0,0,0,0,128,128,128,128,0
337data0,0,0,40,168,176,128,0,0,0,0,136,136,136,168,0,0,0,0,2,10,11,8,0,0,0,0,8,136
338data136,10,0,0,0,0,136,136,136,136,0,0,0,0,130,138,139,136,0,0,0,0,8,136,136,10
339data0,0,0,0,128,128,128,192,0,0,0,0,0,0,0,0,128,136,168,44,0,0,0,0,168,184,136
340data136,0,0,0,0,136,168,136,136,0,0,0,0,160,136,136,136,0,0,0,0,128,128,168,40
341data0,0,0,0,160,176,168,40,0,0,0,0,168,44,32,32,0,0,0,0,8,8,10,2,0,0,0,0,10,139
342data136,200,0,0,0,0,136,136,138,130,0,0,0,0,136,136,138,194,0,0,0,0,10,139,136
343data200,0,0,0,0,0,128,128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,11,14
344data58,234,168,224,59,238,170,170,170,170,0,160,128,224,160,160,160,128,11,14,0
345data0,0,0,0,0,128,163,0,0,0,0,0,0,232,170,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,11
346data14,58,234,168,224,59,238,170,170,174,187,0,160,128,224,160,160,224,128,0,160
347data0,0,0,0,0,0,0,42,0,0,0,0,0,0,0,160,0,0,0,2,42,63,0,58,0,0,2,170,170,255,0,130
348data0,0,170,170,170,255,0,224,0,42,170,170,170,250,14,10,0,168,170,170,170,175
349data160,160,0,0,0,168,170,255,0,0,0,0,0,0,160,240,0,0,3,2,3,14,11,14,11,14,170
350data170,170,170,170,168,168,170,168,168,168,168,168,160,2,139,10,12,8,12,40,56
351data40,58,162,163,162,227,162,35,162,163,234,170,170,170,170,170,170,142,0,0,128
352data128,128,128,128,128,3,2,3,14,11,14,11,14,170,234,170,234,171,168,168,170,168
353data168,168,168,184,160,2,131,224,162,226,162,226,162,226,130,42,170,170,187,128
354data128,10,42,160,170,170,187,238,0,168,170,46,58,46,58,46,56,44,56,131,130,131
355data130,3,0,32,168,160,224,160,224,160,160,160,160,46,58,42,186,234,186,234,186
356data128,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,14,11,14,11,14,11,14
357data170,170,170,170,170,168,168,168,14,58,42,58,42,58,224,160,42,58,14,139,142
358data128,160,160,130,139,142,138,14,58,234,184,139,2,3,14,10,14,10,14,128,128,128
359data128,0,0,0,0,11,14,11,14,11,14,11,14,170,170,170,170,170,168,168,168,14,10,14
360data10,14,10,14,42,138,138,136,8,40,40,42,42,42,42,42,170,170,42,0,0,170,170,168
361data168,168,168,168,160,44,56,46,186,234,186,226,176,168,168,170,170,170,170,162
362data130,160,160,160,160,128,131,130,131,234,186,234,186,234,170,234,168,0,0,0,0
363data0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,11,14,11,2,3,2,3,2,160,160,160,160
364data128,128,128,128,227,162,226,178,34,58,14,10,160,160,162,131,130,3,2,3,232,160
365data224,160,234,170,234,168,8,40,40,168,160,160,128,0,0,0,0,0,0,0,0,0,11,14,11
366data2,3,2,3,2,160,160,160,160,128,128,128,128,56,40,56,40,56,40,56,8,42,234,186
367data238,186,238,187,46,170,170,170,170,170,234,187,238,162,163,162,163,194,139
368data142,11,232,168,232,160,224,160,160,160,14,58,46,58,46,58,234,184,2,11,14,11
369data14,11,14,11,232,168,160,160,160,160,160,160,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
370data0,0,0,0,0,0,0,0
371rem.pos.data
372data255,25,13,129,129,148,129,129,149,148,149,255,26,13,128,130,128,148,255,27
373data13,0,21,255,28,13,0,1,255,29,13,21,1,255,30,13,21,21,255,31,13,149,130,149
374data148,254,33,15,129,150,133,150,254,38,13,144,144,145,145,254,42,15,144,138,145
375data139,254,46,9,132,144,133,145,254,50,13,132,138,133,139,254,54,15,143,150,144
376data150,145,150,146,150,147,150,148,150,253254,33,9,134,135,140,136,254,38,9,134
377data138,140,139,254,42,9,134,141,140,142,254,46,9,134,144,140,145,254,50,15,131
378data147,144,148,254,54,15,129,129,148,132,253
379rem.sprite.data.pos
380data1,7,20,14,2,2,20,14,0,0,0,11,2,1,14,15,16,17,18,19,20,21,0,5,1,7,3,2,2,7,3
381data0,0,0,11,2,9,14,15,16,17,18,19,20,21,0,9,1,2,3,2,2,2,3,0,0,0,11,2,17,14,15
382data16,17,18,19,20,21,0,13,1,12,3,2,2,12,3,0,0,0,11,2,25,14,15,16,17,18,19,20,21
383data0,17,1,17,3,2,2,17,3,0,0,0,11,2,33,14,15,16,17,18,19,20,21,0,21,5,2,11,2,2
384data2,11,0,0,0,11,4,41,14,15,16,17,18,19,20,21,0
385rem.sprite.data.ui
386data10,15,63,29,63,61,15,213,128,160,224,224,224,225,197,84,53,1,2,14,10,2,0,3
387data80,64,128,0,0,0,128,192,10,15,63,29,63,61,15,213,128,160,224,224,224,225,197
388data84,53,1,2,2,2,15,0,3,80,64,128,128,128,128,128,192,8,10,9,10,205,207,133,134
389data32,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0
390data8,10,9,10,13,15,197,134,32,160,160,160,208,240,83,146,175,42,10,5,8,15,0,0
391data250,168,160,80,32,32,60,0,2,10,10,2,205,207,133,134,128,160,160,128,211,243
392data82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0,2,10,10,2,13,15,197,134
393data128,160,160,128,208,240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60
394data0,10,10,10,10,205,207,133,134,160,160,160,160,211,243,82,146,175,42,10,5,8
395data8,15,0,250,168,160,80,32,60,0,0,10,10,10,10,13,15,197,134,160,160,160,160,208
396data240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60,0,0,2,42,10,205,207
397data133,134,168,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80
398data32,60,0,0,0,2,42,10,13,15,197,134,168,160,160,160,208,240,83,146,175,42,10
399data5,8,15,0,0,250,168,160,80,32,32,60,0,2,10,10,10,42,42,42,42,0,128,128,128,160
400data160,160,160,63,12,15,44,15,3,3,0,240,192,192,192,192,0,0,0,0,0,10,10,42,42
401data42,42,0,0,128,128,160,160,160,160,63,12,15,44,15,3,35,0,240,192,192,192,192
402data0,0,0,0,0,0,0,0,42,42,42,0,0,0,0,0,160,160,160,63,12,15,44,15,3,35,0,240,192
403data192,192,192,0,0,0,0,0,0,0,0,0,0,42,0,0,0,0,0,0,0,160,63,12,15,12,15,3,35,0
404data240,192,192,192,192,0,0,0
