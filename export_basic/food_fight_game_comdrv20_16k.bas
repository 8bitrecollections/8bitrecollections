#############################################
# Project     : Project0002
# Description : FoodFight
# Screen      : Layout0001
# Language    : BASIC
# Status      : ALPHA
# Platform    : COMMODORE VIC 20
# Date/Time   : 2025-05-25-21-03-05
#############################################
|------------Restore Characters---------->
poke 36869,192
|------------Relocated BASIC------------->
poke44,30 : poke30*256,0 : new : clr
|------------Program Below--------------->
100rem.generated.2025-05-25-21-03-05
101gosub105:gosub108:gosub113:gosub117:gosub120:gosub127
102gosub142
103goto102
104rem.initvars
105ms=4096:mo=33792
106return
107rem.init.scr
108printchr$(147)
109poke36879,14
110poke36878,151
111return
112rem.init.char
113poke36869,206
114fori=6152to6591:reada:pokei,a:next
115return
116rem.init.pos
117forx=828to923:reada:pokex,a:next
118return
119rem.init.sprite.pos
120forx=4608to4745:reada:pokex,a:next
121rem.init.sprite.ui
122forx=4750to5197:reada:pokex,a:next
123return
124rem.check.input
125rem.check.joystick1
126rem.render.screen
127forx=828to923:a=peek(x)
128ifa=255thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=0
129ifa=254thenx1=0:x2=0:y1=0:y2=0:la=0:cc=0:ch=0:tp=1
130ifla=1thench=a
131ifla=2thencc=a
132ifla=3thenx1=a
133ifla=4theny1=a
134ifla=4andtp=0andx1<128thengosub161:la=2
135ifla=5thenx2=a
136ifla=6theny2=a
137ifla=6thengosub161:la=2
138la=la+1
139next
140return
141rem.render.sprites
142tp=1
143forof=0to115step23
144ch=peek(4608+of)
145ifch=0thenreturn
146cc=peek(4608+of+1)+8
147x1=peek(4608+of+6)-1+128
148y1=peek(4608+of+7)-1+128
149an=peek(4608+of+10)
150x2=(peek(4608+of+6)-1)+(peek(4608+of+4)-1)+128
151y2=(peek(4608+of+7)-1)+(peek(4608+of+5)-1)+128
152rc=peek(4608+of+22)
153ifrc=0thengosub161:poke(4608+22),1
154ca=peek(4608+of+13)
155ifan=0theno1=(ca-1)*8:o2=(ch-1)*8:poke4608+of+10,1:goto157
156o1=(ca-1+4)*8:o2=(ch-1)*8:poke4608+of+10,0
157forx=0to31:a=peek(4750+x+o1):poke6152+x+o2,a:nextx
158nextof
159return
160rem.render.chars
161ifx2=0thenx2=x1:y2=y
162ifx1>127thenx1=x1-128:y1=y1-128:x2=x2-128:y2=y2-128
163l1=y1*22+x1
164xo=x2-x1:yo=y2-y1:dy=0:cy=0:cd=ch
165forb=0toxo
166poke4096+l1+b+dy+mo,cc:poke4096+l1+b+dy,cd
167iftp=1thencd=cd+1
168ifcd=32thencd=33
169nextb
170cy=cy+1
171ifcy>yothenreturn
172dy=dy+22
173goto165
174rem.char.data
175data85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,66,66,66,66,74,64,85,129
176data129,129,129,129,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74
177data64,74,74,74,74,64,85,161,161,129,1,1,161,1,85,85,64,67,76,79,64,79,64,85,1
178data241,1,241,49,193,1,74,64,66,64,64,74,64,85,161,161,161,161,161,161,1,85,85
179data64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,72,72,72,74,64,64,64,85,161,161
180data161,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241,1,241,49,193,1,74,74
181data74,74,64,74,64,85,161,1,1,161,161,161,1,85,85,64,67,76,79,64,79,64,85,1,241
182data1,241,49,193,1,74,74,74,74,74,74,64,85,1,1,161,33,33,161,1,85,0,0,0,85,85,0
183data0,0,16,16,16,16,16,16,16,16,16,16,16,21,5,0,0,0,0,0,0,5,21,16,16,16,0,0,0,80
184data84,4,4,4,4,4,4,84,80,0,0,0,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,128,128,128,128
185data168,40,0,0,40,128,160,176,128,40,0,0,136,136,136,136,136,44,0,0,40,128,160
186data176,128,40,0,0,128,128,128,128,168,40,0,0,0,0,0,0,191,188,191,0,0,0,0,0,254
187data206,254,47,47,11,2,0,0,0,0,56,248,224,128,0,0,0,0,0,0,0,0,0,12,8,40,0,0,0,0
188data0,0,0,195,160,130,10,8,0,0,0,0,130,130,10,40,32,0,0,0,0,0,0,0,32,168,252,236
189data0,0,0,0,32,168,252,236,168,252,252,48,0,0,0,0,168,252,252,48,0,0,0,0,0,0,0
190data0,0,0,0,2,0,0,0,0,0,0,0,0,8,2,8,34,8,0,0,0,128,32,128,32,136,0,0,0,0,10,14
191data63,29,29,63,61,0,128,160,224,224,224,224,224
192rem.pos.data
193data255,25,13,129,129,148,129,129,149,148,149,255,26,13,128,130,128,148,255,27
194data13,0,21,255,28,13,0,1,255,29,13,21,1,255,30,13,21,21,255,31,13,149,130,149
195data148,254,33,15,129,150,133,150,254,38,13,144,144,145,145,254,42,15,144,138,145
196data139,254,46,9,132,144,133,145,254,50,13,132,138,133,139,254,54,15,143,150,144
197data150,145,150,146,150,147,150,148,150,253
198rem.sprite.data.pos
199data1,7,20,14,2,2,20,14,0,0,0,11,2,1,14,15,16,17,18,19,20,21,0,5,1,7,3,2,2,7,3
200data0,0,0,11,2,9,14,15,16,17,18,19,20,21,0,9,1,2,3,2,2,2,3,0,0,0,11,2,17,14,15
201data16,17,18,19,20,21,0,13,1,12,3,2,2,12,3,0,0,0,11,2,25,14,15,16,17,18,19,20,21
202data0,17,1,17,3,2,2,17,3,0,0,0,11,2,33,14,15,16,17,18,19,20,21,0,21,5,2,11,2,2
203data2,11,0,0,0,11,4,41,14,15,16,17,18,19,20,21,0
204rem.sprite.data.ui
205data10,15,63,29,63,61,15,213,128,160,224,224,224,225,197,84,53,1,2,14,10,2,0,3
206data80,64,128,0,0,0,128,192,10,15,63,29,63,61,15,213,128,160,224,224,224,225,197
207data84,53,1,2,2,2,15,0,3,80,64,128,128,128,128,128,192,8,10,9,10,205,207,133,134
208data32,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0
209data8,10,9,10,13,15,197,134,32,160,160,160,208,240,83,146,175,42,10,5,8,15,0,0
210data250,168,160,80,32,32,60,0,2,10,10,2,205,207,133,134,128,160,160,128,211,243
211data82,146,175,42,10,5,8,8,15,0,250,168,160,80,32,60,0,0,2,10,10,2,13,15,197,134
212data128,160,160,128,208,240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60
213data0,10,10,10,10,205,207,133,134,160,160,160,160,211,243,82,146,175,42,10,5,8
214data8,15,0,250,168,160,80,32,60,0,0,10,10,10,10,13,15,197,134,160,160,160,160,208
215data240,83,146,175,42,10,5,8,15,0,0,250,168,160,80,32,32,60,0,0,2,42,10,205,207
216data133,134,168,160,160,160,211,243,82,146,175,42,10,5,8,8,15,0,250,168,160,80
217data32,60,0,0,0,2,42,10,13,15,197,134,168,160,160,160,208,240,83,146,175,42,10
218data5,8,15,0,0,250,168,160,80,32,32,60,0,2,10,10,10,42,42,42,42,0,128,128,128,160
219data160,160,160,63,12,15,44,15,3,3,0,240,192,192,192,192,0,0,0,0,0,10,10,42,42
220data42,42,0,0,128,128,160,160,160,160,63,12,15,44,15,3,35,0,240,192,192,192,192
221data0,0,0,0,0,0,0,0,42,42,42,0,0,0,0,0,160,160,160,63,12,15,44,15,3,35,0,240,192
222data192,192,192,0,0,0,0,0,0,0,0,0,0,42,0,0,0,0,0,0,0,160,63,12,15,12,15,3,35,0
223data240,192,192,192,192,0,0,0
